<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
  <!-- <link rel="stylesheet" href="css/bootstrap.min_4-3-1.css"> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.5.3/js/bootstrapValidator.js"></script>
  <!-- Sweet Alert -->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!-- Estilo para el Navigtion Bar-->
  <link rel="stylesheet" href="css/stylegeneralwithscroll.css">
  <!-- GeoPosición del mapa y zoom-->
  <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script> -->
  <script src="js/mapgoogle.js"></script> 
  <title>Contacto</title>
  <style>
    #divcontact{
      /*background-color: #70c3be;*/
      letter-spacing: 2px;
      }
    #divcontact a{
      color: #fff;
      text-decoration: none;
    }
    @media (max-width: 575.98px) {
      #divcontact{padding-bottom: 800px;}
      #divcontact .maps iframe{
        width: 100%;
        height: 450px;
      }
    }
    @media (min-width: 576px) {    
      #divcontact{padding-bottom: 800px;}
      #divcontact .maps iframe{
        width: 100%;
        height: 450px;
      }
    }      
    @media (min-width: 768px) {    
      #divcontact{padding-bottom: 350px;}    
      #divcontact .maps iframe{
        width: 100%;
        height: 850px;
      }
    }      
    @media (min-width: 992px) {
      #divcontact{padding-bottom: 200px;}    
      #divcontact .maps iframe{
        width: 100%;
        height: 700px;
      }
    }      
    #author a{
      color: #fff;
      text-decoration: none;        
    }
    #map {
      height: 450px;
    }      
    .spacing{
      padding-top: 10px;
    }
  </style>
</head>
<body>
<!-- DIV con las opciones de la página-->
<div class="topnav" id="myTopnav">
  <a href="index.html" class="active nav-link">INICIO</a>
  <a class="nav-link" href="portafolio.html">PORTAFOLIO</a>
  <a class="nav-link" href="servicios.html">SERVICIOS</a>
  <!-- Social Media Icons -->
  <!-- Facebook -->
  <a class="nav-link" style="background-color: #3b5998;" href="https://www.facebook.com/tecnobytedigital"><i class="fab fa-facebook-f"></i></a>
  <!-- Instagram -->
  <a class="nav-link" style="background-color: #ac2bac;" href="https://www.instagram.com/tecnobyte_peninsula"><i class="fab fa-instagram"></i></a>
  <!-- Whatsapp -->
  <a class="nav-link" style="background-color: #25d366;" href="https://web.whatsapp.com/"><i class="fab fa-whatsapp"></i></a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>
<!-- Contact Form and Google Map -->
<div class="row" id="divcontact">
  <div class="container mt-12 spacing">
    <div class="row" style="height:550px;">
      <div class="col-md-6">
        <h2 class="text-uppercase mt-3 font-weight-bold">Contáctanos</h2>
        <!-- <h2>Escríbenos...</h2> -->
        <h6>Nos emociona poder atender todas tus ideas, te asesoramos en todas tus solicitudes para que puedas encontrar la solución correcta e impulsar tu negocio.</h6>
        <div class="form-group">
        <!-- <form action=""> -->
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <input type="text" id="first_name" name="first_name" class="form-control mt-2" placeholder="Nombre completo" required>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <input type="text" id="phone" name="phone" class="form-control mt-2" placeholder="Teléfono" required>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <input type="text" id="email" name="email" class="form-control mt-2" placeholder="Email" required oninput="validate()">
                <h5 id="result" class="form-control mt-2" style="display: none;"></h5>                
              </div>
            </div>
            <div class="col-12">
              <button id="BtnSend" class="btn btn-warning">Enviar</button>
            </div>
            <div class="col-lg-12">
              <div class="form-group">
                <br><br><br><br><br><br>
                <h6>Horario de Atención Lunes a viernes: 9:00 AM a 7:00 PM</h6>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="form-group">
                <h6>Dirección: Calle 6 # 341 Depto.4 x 3B Col. Gonzalo Guerrero. C.P. 97115</h6>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="form-group">
                <i class="fas fa-phone fa-lg"></i> 9994924199 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="far fa-envelope fa-lg"></i> contacto@tecnobytepeninsula.com
              </div>
            </div>
          </div>
        <!-- </form> -->
        </div>
      </div>
      <!-- Carga y muestra el mapa de google con la ubicación de la empresa-->
      <div id="map" class="col-md-6 maps" frameborder="0" style="border:0" allowfullscreen>
        <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIWnpt2qYKdYCCVpAbLowC_rvy-zVYRZY&callback=initMap&v=weekly" async></script>
    </div> 
    </div>
  </div>
</div>

<!-- Comportamiento del navigation bar -->
<script>
    function myFunction() {
      var x = document.getElementById("myTopnav");
      if (x.className === "topnav") {
        x.className += " responsive";
      } else {
        x.className = "topnav";
      }
    }
    
    //Validación del texto en formato email
    function validateEmail(email){
      const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(email);
    }

    //Result del email para el usuario
    function validate() {
      const $result = $("#result");
      const email = $("#email").val();
      $result.text("");

      if (validateEmail(email)) {
        //$result.text(email + " email válido :)");
        //$result.css("color", "green");
        $result.css("display", "none");
      } else {
        $result.css("display", "block");
        $result.text(email + " no es un email válido :(");
        $result.css("color", "red");
      }
      return false;
    }
    $(document).ready(function() {
      $("#phone").keydown(function (e) {
          // Allow: backspace, delete, tab, escape, enter and .
          if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                      // Allow: Ctrl/cmd+A
                  (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                      // Allow: Ctrl/cmd+C
                  (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
                      // Allow: Ctrl/cmd+X
                  (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
                      // Allow: home, end, left, right
                  (e.keyCode >= 35 && e.keyCode <= 39)) {
              // let it happen, don't do anything
              return;
          }
          // Ensure that it is a number and stop the keypress
          if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
              e.preventDefault();
          }
      });
    }); 
</script>
<!-- Ajax para envío de información para contactar al cliente -->
<script type="text/javascript">
  var btnSend = document.getElementById("BtnSend");
  btnSend.onclick = function() {
    var json = [];
    var txtNombre = $('#first_name').val();
    var txtTelefono = $('#phone').val();
    var txtEmail = $('#email').val();
    //Obtenemos solo los números del teléfono del contacto
    var NumberPhone = txtTelefono.replace(/[`~!@#$%^&*()_|+\-=?;:¢∞¬÷“”≠'",.<>\{\}\[\]\\\/]/gi, '');
    $.ajax({
      url:"http://localhost:5000/api/comentarios/",
      type: "POST",
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
        //'x-access-token': token
      },
      data: {
        fullname:txtNombre,phonenumber:NumberPhone,emailpeople:txtEmail
      },
      success: function (data) {
        /*if (data.Message == "Success" ){
        }else{          
          messagefail('No se pudo enviar la información del formulario');
        }*/
        if(data){
        swal({
          title: "En breve lo contactaremos!",
          text: "Ya puede cerrar ésta ventana.",
          icon: "success",
          button: "Cerrar",
        });
        CamposEnBlanco()
      }
      }
    });
  }
</script>
<!-- Campos en blanco después del envío de información -->
<script type="text/javascript">
  function CamposEnBlanco(){
    $('#first_name').val('');
    $('#phone').val('');
    $('#email').val('');
  }
</script>
</body>
</html>
